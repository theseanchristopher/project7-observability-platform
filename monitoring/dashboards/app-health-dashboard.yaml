apiVersion: v1
kind: ConfigMap
metadata:
  name: app-health-dashboard
  namespace: monitoring
  labels:
    grafana_dashboard: '1'
data:
  app-health-dashboard.json: "{\n  \"id\": null,\n  \"uid\": \"app-health-dashboard\"\
    ,\n  \"title\": \"App Health by Namespace\",\n  \"schemaVersion\": 36,\n  \"version\"\
    : 1,\n  \"timezone\": \"browser\",\n  \"refresh\": \"30s\",\n  \"panels\": [\n\
    \    {\n      \"type\": \"bargauge\",\n      \"title\": \"App Health by Namespace\"\
    ,\n      \"targets\": [\n        {\n          \"expr\": \"avg by (namespace) (up{container=\\\
    \"project4-app\\\"})\",\n          \"legendFormat\": \"{{namespace}}\"\n     \
    \   }\n      ],\n      \"fieldConfig\": {\n        \"defaults\": {\n         \
    \ \"unit\": \"none\",\n          \"min\": 0,\n          \"max\": 1,\n        \
    \  \"thresholds\": {\n            \"mode\": \"absolute\",\n            \"steps\"\
    : [\n              {\n                \"color\": \"red\",\n                \"\
    value\": 0\n              },\n              {\n                \"color\": \"green\"\
    ,\n                \"value\": 1\n              }\n            ]\n          }\n\
    \        },\n        \"overrides\": []\n      },\n      \"options\": {\n     \
    \   \"displayMode\": \"lcd\",\n        \"orientation\": \"horizontal\"\n     \
    \ },\n      \"gridPos\": {\n        \"h\": 8,\n        \"w\": 24,\n        \"\
    x\": 0,\n        \"y\": 0\n      }\n    }\n  ]\n}"
